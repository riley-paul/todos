---
import Root from "@/layouts/root.astro";
import { cn } from "@/lib/utils";
import { CircleCheckBig } from "lucide-react";
import { buttonVariants } from "@/components/ui/button";
import type { Todo } from "@/api/db/schema";
import TodoItemSample from "@/components/todo-sample";

const sampleTodos: Todo[] = [
  {
    id: "1",
    text: "Buy groceries",
    isCompleted: false,
    isDeleted: false,
    createdAt: new Date().toISOString(),
    userId: "1",
  },
  {
    id: "2",
    text: "Find the meaning of life",
    isCompleted: false,
    isDeleted: false,
    createdAt: new Date().toISOString(),
    userId: "1",
  },
  {
    id: "3",
    text: "Learn Astro web framework",
    isCompleted: true,
    isDeleted: false,
    createdAt: new Date().toISOString(),
    userId: "1",
  },
];
---

<Root>
  <main
    class="container2 flex flex-col items-center gap-6 min-h-[100svh] justify-center"
  >
    <div class="flex items-center justify-center">
      <CircleCheckBig size="5rem" className="text-primary" />
    </div>
    <section
      class="prose dark:prose-invert max-w-none w-full prose-h1:text-5xl prose-h1:mb-2 text-center"
    >
      <h1 class="">Todos</h1>
      <p class="">A robust and feature-poor todo app</p>
    </section>
    <a
      class={cn("w-full", buttonVariants({ variant: "secondary" }))}
      href="/"
      data-astro-prefetch
    >
      Get Started
    </a>
    <div class="flex flex-col w-full gap-2">
      {sampleTodos.map((todo) => <TodoItemSample client:load todo={todo} />)}
    </div>
  </main>
</Root>
