---
import { type AppType } from "@/api";
import RootLayout from "@/layouts/root-layout.astro";
import { hc } from "hono/client";

const headers = Object.fromEntries(Astro.request.headers);
const client = hc<AppType>(Astro.url.origin, { headers });

const res = await client.api.todos.$get();
const todos = await res.json();
---

<RootLayout>
  <pre>
    {JSON.stringify(todos, null, 2)}
  </pre>
</RootLayout>
